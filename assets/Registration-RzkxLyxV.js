import{r as y,R as S,u as ee,j as p,L as J}from"./index-PODOxm4l.js";import{Y as te}from"./YellowButton-Z4OD0MhU.js";import{Q as ae,i as re,B as U,L as ne,G as oe}from"./googlelogo-NU-BTLDX.js";import{F as ie}from"./FirstHeader-E6eb5lbe.js";import"./axios-Mti6sQpH.js";import"./clsx-Zbgk8kpT.js";var O=[["Afghanistan","af","93"],["Albania","al","355"],["Algeria","dz","213"],["Andorra","ad","376"],["Angola","ao","244"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54","(..) ........",0],["Armenia","am","374",".. ......"],["Aruba","aw","297"],["Australia","au","61",{default:". .... ....","/^4/":"... ... ...","/^5(?!50)/":"... ... ...","/^1(3|8)00/":".... ... ...","/^13/":".. .. ..","/^180/":"... ...."},0,[]],["Austria","at","43"],["Azerbaijan","az","994","(..) ... .. .."],["Bahamas","bs","1242"],["Bahrain","bh","973"],["Bangladesh","bd","880"],["Barbados","bb","1246"],["Belarus","by","375","(..) ... .. .."],["Belgium","be","32","... .. .. .."],["Belize","bz","501"],["Benin","bj","229"],["Bhutan","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil","br","55","(..) ........."],["British Indian Ocean Territory","io","246"],["Brunei","bn","673"],["Bulgaria","bg","359"],["Burkina Faso","bf","226"],["Burundi","bi","257"],["Cambodia","kh","855"],["Cameroon","cm","237"],["Canada","ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde","cv","238"],["Caribbean Netherlands","bq","599","",1],["Central African Republic","cf","236"],["Chad","td","235"],["Chile","cl","56"],["China","cn","86","... .... ...."],["Colombia","co","57","... ... ...."],["Comoros","km","269"],["Congo","cd","243"],["Congo","cg","242"],["Costa Rica","cr","506","....-...."],["Côte d'Ivoire","ci","225",".. .. .. .. .."],["Croatia","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599","",0],["Cyprus","cy","357",".. ......"],["Czech Republic","cz","420","... ... ..."],["Denmark","dk","45",".. .. .. .."],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic","do","1","",2],["Ecuador","ec","593"],["Egypt","eg","20"],["El Salvador","sv","503","....-...."],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia","ee","372",".... ......"],["Ethiopia","et","251"],["Fiji","fj","679"],["Finland","fi","358",".. ... .. .."],["France","fr","33",". .. .. .. .."],["French Guiana","gf","594"],["French Polynesia","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia","ge","995"],["Germany","de","49",".... ........"],["Ghana","gh","233"],["Greece","gr","30"],["Grenada","gd","1473"],["Guadeloupe","gp","590","",0],["Guam","gu","1671"],["Guatemala","gt","502","....-...."],["Guinea","gn","224"],["Guinea-Bissau","gw","245"],["Guyana","gy","592"],["Haiti","ht","509","....-...."],["Honduras","hn","504"],["Hong Kong","hk","852",".... ...."],["Hungary","hu","36"],["Iceland","is","354","... ...."],["India","in","91",".....-....."],["Indonesia","id","62"],["Iran","ir","98","... ... ...."],["Iraq","iq","964"],["Ireland","ie","353",".. ......."],["Israel","il","972","... ... ...."],["Italy","it","39","... .......",0],["Jamaica","jm","1876"],["Japan","jp","81",".. .... ...."],["Jordan","jo","962"],["Kazakhstan","kz","7","... ...-..-..",0],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait","kw","965"],["Kyrgyzstan","kg","996","... ... ..."],["Laos","la","856"],["Latvia","lv","371",".. ... ..."],["Lebanon","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya","ly","218"],["Liechtenstein","li","423"],["Lithuania","lt","370"],["Luxembourg","lu","352"],["Macau","mo","853"],["Macedonia","mk","389"],["Madagascar","mg","261"],["Malawi","mw","265"],["Malaysia","my","60","..-....-...."],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania","mr","222"],["Mauritius","mu","230"],["Mexico","mx","52","... ... ....",0],["Micronesia","fm","691"],["Moldova","md","373","(..) ..-..-.."],["Monaco","mc","377"],["Mongolia","mn","976"],["Montenegro","me","382"],["Morocco","ma","212"],["Mozambique","mz","258"],["Myanmar","mm","95"],["Namibia","na","264"],["Nauru","nr","674"],["Nepal","np","977"],["Netherlands","nl","31",".. ........"],["New Caledonia","nc","687"],["New Zealand","nz","64","...-...-...."],["Nicaragua","ni","505"],["Niger","ne","227"],["Nigeria","ng","234"],["North Korea","kp","850"],["Norway","no","47","... .. ..."],["Oman","om","968"],["Pakistan","pk","92","...-......."],["Palau","pw","680"],["Palestine","ps","970"],["Panama","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru","pe","51"],["Philippines","ph","63",".... ......."],["Poland","pl","48","...-...-..."],["Portugal","pt","351"],["Puerto Rico","pr","1","",3,["787","939"]],["Qatar","qa","974"],["Réunion","re","262"],["Romania","ro","40"],["Russia","ru","7","(...) ...-..-..",1],["Rwanda","rw","250"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe","st","239"],["Saudi Arabia","sa","966"],["Senegal","sn","221"],["Serbia","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65","....-...."],["Slovakia","sk","421"],["Slovenia","si","386"],["Solomon Islands","sb","677"],["Somalia","so","252"],["South Africa","za","27"],["South Korea","kr","82","... .... ...."],["South Sudan","ss","211"],["Spain","es","34","... ... ..."],["Sri Lanka","lk","94"],["Sudan","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden","se","46","... ... ..."],["Switzerland","ch","41",".. ... .. .."],["Syria","sy","963"],["Taiwan","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia","tn","216"],["Turkey","tr","90","... ... .. .."],["Turkmenistan","tm","993"],["Tuvalu","tv","688"],["Uganda","ug","256"],["Ukraine","ua","380","(..) ... .. .."],["United Arab Emirates","ae","971"],["United Kingdom","gb","44",".... ......"],["United States","us","1","(...) ...-....",0],["Uruguay","uy","598"],["Uzbekistan","uz","998",".. ... .. .."],["Vanuatu","vu","678"],["Vatican City","va","39",".. .... ....",1],["Venezuela","ve","58"],["Vietnam","vn","84"],["Yemen","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],le="react-international-phone-",Q=(...t)=>t.filter(e=>!!e).join(" ").trim(),se=(...t)=>Q(...t).split(" ").map(e=>`${le}${e}`).join(" "),j=({addPrefix:t,rawClassNames:e})=>Q(se(...t),...e),de=({value:t,mask:e,maskSymbol:r,offset:l=0,trimNonMaskCharsLeftover:a=!1})=>{if(t.length<l)return t;let n=t.slice(0,l),c=t.slice(l),u=n,o=0;for(let s of e.split("")){if(o>=c.length){if(!a&&s!==r){u+=s;continue}break}s===r?(u+=c[o],o+=1):u+=s}return u},G=t=>t?/^\d+$/.test(t):!1,K=t=>t.replace(/\D/g,""),ue=(t,e)=>{let r=t.style.display;r!=="block"&&(t.style.display="block");let l=t.getBoundingClientRect(),a=e.getBoundingClientRect(),n=a.top-l.top,c=l.bottom-a.bottom;n>=0&&c>=0||(Math.abs(n)<Math.abs(c)?t.scrollTop+=n:t.scrollTop-=c),t.style.display=r},ce=(t,e)=>{let r=e.disableDialCodeAndPrefix?!1:e.forceDialCode,l=e.disableDialCodeAndPrefix?!1:e.insertDialCodeOnEmpty,a=t,n=s=>e.trimNonDigitsEnd?s.trim():s;if(!a)return l&&!a.length||r?n(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`):n(a);if(a=K(a),a===e.dialCode&&!e.disableDialCodeAndPrefix)return n(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`);if(e.dialCode.startsWith(a)&&!e.disableDialCodeAndPrefix)return n(r?`${e.prefix}${e.dialCode}${e.charAfterDialCode}`:`${e.prefix}${a}`);if(!a.startsWith(e.dialCode)&&!e.disableDialCodeAndPrefix){if(r)return n(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`);if(a.length<e.dialCode.length)return n(`${e.prefix}${a}`)}let c=()=>{let s=e.dialCode.length,i=a.slice(0,s),h=a.slice(s);return{phoneLeftSide:i,phoneRightSide:h}},{phoneLeftSide:u,phoneRightSide:o}=c();return u=`${e.prefix}${u}${e.charAfterDialCode}`,o=de({value:o,mask:e.mask,maskSymbol:e.maskChar,trimNonMaskCharsLeftover:e.trimNonDigitsEnd||e.disableDialCodeAndPrefix&&o.length===0}),e.disableDialCodeAndPrefix&&(u=""),n(`${u}${o}`)},fe=({phoneBeforeInput:t,phoneAfterInput:e,phoneAfterFormatted:r,cursorPositionAfterInput:l,leftOffset:a=0,deletion:n})=>{if(l<a)return a;if(!t)return r.length;let c=null;for(let i=l-1;i>=0;i-=1)if(G(e[i])){c=i;break}if(c===null){for(let i=0;i<e.length;i+=1)if(G(r[i]))return i;return e.length}let u=0;for(let i=0;i<c;i+=1)G(e[i])&&(u+=1);let o=0,s=0;for(let i=0;i<r.length&&(o+=1,G(r[i])&&(s+=1),!(s>=u+1));i+=1);if(n!=="backward")for(;!G(r[o])&&o<r.length;)o+=1;return o},q=({phone:t,prefix:e})=>t?`${e}${K(t)}`:"";function W({value:t,country:e,insertDialCodeOnEmpty:r,trimNonDigitsEnd:l,countries:a,prefix:n,charAfterDialCode:c,forceDialCode:u,disableDialCodeAndPrefix:o,defaultMask:s,countryGuessingEnabled:i,disableFormatting:h}){let d=t;o&&(d=d.startsWith(`${n}`)?d:`${n}${e.dialCode}${d}`);let m=i?we({phone:d,countries:a,currentCountryIso2:e==null?void 0:e.iso2}):void 0,D=(m==null?void 0:m.country)??e,g=ce(d,{prefix:n,mask:ve({phone:d,country:D,defaultMask:s,disableFormatting:h}),maskChar:Y,dialCode:D.dialCode,trimNonDigitsEnd:l,charAfterDialCode:c,forceDialCode:u,insertDialCodeOnEmpty:r,disableDialCodeAndPrefix:o}),v=i&&!(m!=null&&m.fullDialCodeMatch)?e:D;return{phone:q({phone:o?`${v.dialCode}${g}`:g,prefix:n}),inputValue:g,country:v}}var pe=t=>{if((t==null?void 0:t.toLocaleLowerCase().includes("delete"))??!1)return t!=null&&t.toLocaleLowerCase().includes("forward")?"forward":"backward"},me=(t,{country:e,insertDialCodeOnEmpty:r,phoneBeforeInput:l,prefix:a,charAfterDialCode:n,forceDialCode:c,disableDialCodeAndPrefix:u,countryGuessingEnabled:o,defaultMask:s,disableFormatting:i,countries:h})=>{let d=t.nativeEvent,m=d.inputType,D=pe(m),g=!!(m!=null&&m.startsWith("insertFrom")),v=m==="insertText",P=(d==null?void 0:d.data)||void 0,x=t.target.value,$=t.target.selectionStart??0;if(m!=null&&m.includes("history"))return{inputValue:l,phone:q({phone:l,prefix:a}),cursorPosition:l.length,country:e};if(v&&!G(P)&&x!==a)return{inputValue:l,phone:q({phone:u?`${e.dialCode}${l}`:l,prefix:a}),cursorPosition:$-((P==null?void 0:P.length)??0),country:e};if(c&&!x.startsWith(`${a}${e.dialCode}`)&&!g){let C=x?l:`${a}${e.dialCode}${n}`;return{inputValue:C,phone:q({phone:C,prefix:a}),cursorPosition:a.length+e.dialCode.length+n.length,country:e}}let{phone:F,inputValue:I,country:f}=W({value:x,country:e,trimNonDigitsEnd:D==="backward",insertDialCodeOnEmpty:r,countryGuessingEnabled:o,countries:h,prefix:a,charAfterDialCode:n,forceDialCode:c,disableDialCodeAndPrefix:u,disableFormatting:i,defaultMask:s}),b=fe({cursorPositionAfterInput:$,phoneBeforeInput:l,phoneAfterInput:x,phoneAfterFormatted:I,leftOffset:c?a.length+e.dialCode.length+n.length:0,deletion:D});return{phone:F,inputValue:I,cursorPosition:b,country:f}},he=(t,e)=>{let r=Object.keys(t),l=Object.keys(e);if(r.length!==l.length)return!1;for(let a of r)if(t[a]!==e[a])return!1;return!0},ye=()=>{let t=y.useRef(),e=y.useRef(Date.now());return{check:()=>{let r=Date.now(),l=t.current?r-e.current:void 0;return t.current=e.current,e.current=r,l}}},Ce={size:20,overrideLastItemDebounceMS:-1};function ge(t,e){let{size:r,overrideLastItemDebounceMS:l,onChange:a}={...Ce,...e},[n,c]=y.useState(t),[u,o]=y.useState([n]),[s,i]=y.useState(0),h=ye();return[n,(d,m)=>{if(typeof d=="object"&&typeof n=="object"&&he(d,n)||d===n)return;let D=l>0,g=h.check(),v=D&&g!==void 0?g>l:!0;if((m==null?void 0:m.overrideLastItem)!==void 0?m.overrideLastItem:!v)o(P=>[...P.slice(0,s),d]);else{let P=u.length>=r;o(x=>[...x.slice(P?1:0,s+1),d]),P||i(x=>x+1)}c(d),a==null||a(d)},()=>{if(s<=0)return{success:!1};let d=u[s-1];return c(d),i(m=>m-1),a==null||a(d),{success:!0,value:d}},()=>{if(s+1>=u.length)return{success:!1};let d=u[s+1];return c(d),i(m=>m+1),a==null||a(d),{success:!0,value:d}}]}var Y=".",M={defaultCountry:"us",value:"",prefix:"+",defaultMask:"............",charAfterDialCode:" ",historySaveDebounceMS:200,disableCountryGuess:!1,disableDialCodePrefill:!1,forceDialCode:!1,disableDialCodeAndPrefix:!1,disableFormatting:!1,countries:O,preferredCountries:[]},be=({defaultCountry:t=M.defaultCountry,value:e=M.value,countries:r=M.countries,prefix:l=M.prefix,defaultMask:a=M.defaultMask,charAfterDialCode:n=M.charAfterDialCode,historySaveDebounceMS:c=M.historySaveDebounceMS,disableCountryGuess:u=M.disableCountryGuess,disableDialCodePrefill:o=M.disableDialCodePrefill,forceDialCode:s=M.forceDialCode,disableDialCodeAndPrefix:i=M.disableDialCodeAndPrefix,disableFormatting:h=M.disableFormatting,onChange:d,inputRef:m})=>{let D={countries:r,prefix:l,charAfterDialCode:n,forceDialCode:i?!1:s,disableDialCodeAndPrefix:i,defaultMask:a,countryGuessingEnabled:!u,disableFormatting:h},g=y.useRef(null),v=m||g,P=w=>{Promise.resolve().then(()=>{var k;typeof window>"u"||v.current!==(document==null?void 0:document.activeElement)||((k=v.current)==null||k.setSelectionRange(w,w))})},[{phone:x,inputValue:$,country:F},I,f,b]=ge(()=>{let w=T({value:t,field:"iso2",countries:r});w||console.error(`[react-international-phone]: can not find a country with "${t}" iso2 code`);let k=w||T({value:"us",field:"iso2",countries:r}),{phone:E,inputValue:_,country:B}=W({value:e,country:k,insertDialCodeOnEmpty:!o,...D});return P(_.length),{phone:E,inputValue:_,country:B.iso2}},{overrideLastItemDebounceMS:c,onChange:({inputValue:w,phone:k,country:E})=>{if(!d)return;let _=C(E);d({phone:k,inputValue:w,country:_})}}),C=y.useCallback(w=>T({value:w,field:"iso2",countries:r}),[r]),N=y.useMemo(()=>C(F),[F,C]);y.useEffect(()=>{let w=v.current;if(!w)return;let k=E=>{if(!E.key)return;let _=E.ctrlKey,B=E.shiftKey,X=E.key.toLowerCase()==="z";!_||!X||(B?b():f())};return w.addEventListener("keydown",k),()=>{w.removeEventListener("keydown",k)}},[v,f,b]);let A=w=>{w.preventDefault();let{phone:k,inputValue:E,country:_,cursorPosition:B}=me(w,{country:N,phoneBeforeInput:$,insertDialCodeOnEmpty:!1,...D});return I({inputValue:E,phone:k,country:_.iso2}),P(B),e},L=(w,k={focusOnInput:!1})=>{let E=T({value:w,field:"iso2",countries:r});if(!E){console.error(`[react-international-phone]: can not find a country with "${w}" iso2 code`);return}let _=i?"":`${l}${E.dialCode}${n}`;I({inputValue:_,phone:`${l}${E.dialCode}`,country:E.iso2}),k.focusOnInput&&Promise.resolve().then(()=>{var B;(B=v.current)==null||B.focus()})},[R,V]=y.useState(!1);return y.useEffect(()=>{if(!R){V(!0),e!==x&&(d==null||d({inputValue:$,phone:x,country:N}));return}if(e===x)return;let{phone:w,inputValue:k,country:E}=W({value:e,country:N,insertDialCodeOnEmpty:!o,...D});I({phone:w,inputValue:k,country:E.iso2})},[e]),{phone:x,inputValue:$,country:N,setCountry:L,handlePhoneValueChange:A,inputRef:v}},ve=({phone:t,country:e,defaultMask:r="............",disableFormatting:l=!1})=>{let a=e.format,n=u=>l?u.replace(new RegExp(`[^${Y}]`,"g"),""):u;if(!a)return n(r);if(typeof a=="string")return n(a);if(!a.default)return console.error(`[react-international-phone]: default mask for ${e.iso2} is not provided`),n(r);let c=Object.keys(a).find(u=>{if(u==="default")return!1;if(!(u.charAt(0)==="/"&&u.charAt(u.length-1)==="/"))return console.error(`[react-international-phone]: format regex "${u}" for ${e.iso2} is not valid`),!1;let o=new RegExp(u.substring(1,u.length-1)),s=t.replace(e.dialCode,"");return o.test(K(s))});return n(c?a[c]:a.default)},z=t=>{let[e,r,l,a,n,c]=t;return{name:e,iso2:r,dialCode:l,format:a,priority:n,areaCodes:c}},xe=t=>`Field "${t}" is not supported`,T=({field:t,value:e,countries:r=O})=>{if(["priority"].includes(t))throw new Error(xe(t));let l=r.find(a=>{let n=z(a);return e===n[t]});if(l)return z(l)},we=({phone:t,countries:e=O,currentCountryIso2:r})=>{var u;let l={country:void 0,fullDialCodeMatch:!1};if(!t)return l;let a=K(t);if(!a)return l;let n=l,c=({country:o,fullDialCodeMatch:s})=>{var d,m;let i=o.dialCode===((d=n.country)==null?void 0:d.dialCode),h=(o.priority??0)<(((m=n.country)==null?void 0:m.priority)??0);(!i||h)&&(n={country:o,fullDialCodeMatch:s})};for(let o of e){let s=z(o),{dialCode:i,areaCodes:h}=s;if(a.startsWith(i)){let d=n.country?Number(i)>=Number(n.country.dialCode):!0;if(h){let m=a.substring(i.length);for(let D of h)if(m.startsWith(D))return{country:s,fullDialCodeMatch:!0}}(d||i===a||!n.fullDialCodeMatch)&&c({country:s,fullDialCodeMatch:!0})}n.fullDialCodeMatch||a.length<i.length&&i.startsWith(a)&&(!n.country||Number(i)<=Number(n.country.dialCode))&&c({country:s,fullDialCodeMatch:!1})}if(r){let o=T({value:r,field:"iso2",countries:e});if(!o)return n;let s=o?(i=>{if(!(i!=null&&i.areaCodes))return!1;let h=a.substring(i.dialCode.length);return i.areaCodes.some(d=>d.startsWith(h))})(o):!1;n&&((u=n.country)==null?void 0:u.dialCode)===o.dialCode&&n.country!==o&&n.fullDialCodeMatch&&(!o.areaCodes||s)&&(n={country:o,fullDialCodeMatch:!0})}return n},De=(t,e)=>{let r=parseInt(t,16);return Number(r+e).toString(16)},Ne="abcdefghijklmnopqrstuvwxyz",ke="1f1e6",H=Ne.split("").reduce((t,e,r)=>({...t,[e]:De(ke,r)}),{}),Se=t=>[H[t[0]],H[t[1]]].join("-"),Z=({iso2:t,size:e,src:r,protocol:l="https",disableLazyLoading:a,className:n,style:c,...u})=>{if(!t)return S.createElement("img",{className:j({addPrefix:["flag-emoji"],rawClassNames:[n]}),width:e,height:e,...u});let o=()=>{if(r)return r;let s=Se(t);return`${l}://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/${s}.svg`};return S.createElement("img",{className:j({addPrefix:["flag-emoji"],rawClassNames:[n]}),src:o(),width:e,height:e,draggable:!1,"data-country":t,loading:a?void 0:"lazy",style:{width:e,height:e,...c},alt:"",...u})},Pe=1e3,Ee=({show:t,dialCodePrefix:e="+",selectedCountry:r,countries:l=O,preferredCountries:a=[],flags:n,onSelect:c,onClose:u,...o})=>{let s=y.useRef(null),i=y.useRef(),h=y.useMemo(()=>{if(!a||!a.length)return l;let f=[],b=[...l];for(let C of a){let N=b.findIndex(A=>z(A).iso2===C);if(N!==-1){let A=b.splice(N,1)[0];f.push(A)}}return f.concat(b)},[l,a]),d=y.useRef({updatedAt:void 0,value:""}),m=f=>{let b=d.current.updatedAt&&new Date().getTime()-d.current.updatedAt.getTime()>Pe;d.current={value:b?f:`${d.current.value}${f}`,updatedAt:new Date};let C=h.findIndex(N=>z(N).name.toLowerCase().startsWith(d.current.value));C!==-1&&v(C)},D=y.useCallback(f=>h.findIndex(b=>z(b).iso2===f),[h]),[g,v]=y.useState(D(r)),P=()=>{i.current!==r&&v(D(r))},x=y.useCallback(f=>{v(D(f.iso2)),c==null||c(f)},[c,D]),$=f=>{let b=h.length-1,C=N=>f==="prev"?N-1:f==="next"?N+1:f==="last"?b:0;v(N=>{let A=C(N);return A<0?0:A>b?b:A})},F=f=>{if(f.stopPropagation(),f.key==="Enter"){f.preventDefault();let b=z(h[g]);x(b);return}if(f.key==="Escape"){u==null||u();return}if(f.key==="ArrowUp"){f.preventDefault(),$("prev");return}if(f.key==="ArrowDown"){f.preventDefault(),$("next");return}if(f.key==="PageUp"){f.preventDefault(),$("first");return}if(f.key==="PageDown"){f.preventDefault(),$("last");return}f.key===" "&&f.preventDefault(),f.key.length===1&&!f.altKey&&!f.ctrlKey&&!f.metaKey&&m(f.key.toLocaleLowerCase())},I=y.useCallback(()=>{if(!s.current||g===void 0)return;let f=z(h[g]).iso2;if(f===i.current)return;let b=s.current.querySelector(`[data-country="${f}"]`);b&&(ue(s.current,b),i.current=f)},[g,h]);return y.useEffect(()=>{I()},[g,I]),y.useEffect(()=>{s.current&&(t?s.current.focus():P())},[t]),y.useEffect(()=>{P()},[r]),S.createElement("ul",{ref:s,role:"listbox",className:j({addPrefix:["country-selector-dropdown"],rawClassNames:[o.className]}),style:{display:t?"block":"none",...o.style},onKeyDown:F,onBlur:u,tabIndex:-1,"aria-activedescendant":`react-international-phone__${z(h[g]).iso2}-option`},h.map((f,b)=>{let C=z(f),N=C.iso2===r,A=b===g,L=a.includes(C.iso2),R=b===a.length-1,V=n==null?void 0:n.find(w=>w.iso2===C.iso2);return S.createElement(S.Fragment,{key:C.iso2},S.createElement("li",{"data-country":C.iso2,role:"option","aria-selected":N,"aria-label":`${C.name} ${e}${C.dialCode}`,id:`react-international-phone__${C.iso2}-option`,className:j({addPrefix:["country-selector-dropdown__list-item",L&&"country-selector-dropdown__list-item--preferred",N&&"country-selector-dropdown__list-item--selected",A&&"country-selector-dropdown__list-item--focused"],rawClassNames:[o.listItemClassName]}),onClick:()=>x(C),style:o.listItemStyle,title:C.name},S.createElement(Z,{iso2:C.iso2,src:V==null?void 0:V.src,className:j({addPrefix:["country-selector-dropdown__list-item-flag-emoji"],rawClassNames:[o.listItemFlagClassName]}),style:o.listItemFlagStyle}),S.createElement("span",{className:j({addPrefix:["country-selector-dropdown__list-item-country-name"],rawClassNames:[o.listItemCountryNameClassName]}),style:o.listItemCountryNameStyle},C.name),S.createElement("span",{className:j({addPrefix:["country-selector-dropdown__list-item-dial-code"],rawClassNames:[o.listItemDialCodeClassName]}),style:o.listItemDialCodeStyle},e,C.dialCode)),R?S.createElement("hr",{className:j({addPrefix:["country-selector-dropdown__preferred-list-divider"],rawClassNames:[o.preferredListDividerClassName]}),style:o.preferredListDividerStyle}):null)}))},Ae=({selectedCountry:t,onSelect:e,disabled:r,hideDropdown:l,countries:a=O,preferredCountries:n=[],flags:c,renderButtonWrapper:u,...o})=>{let[s,i]=y.useState(!1),h=y.useMemo(()=>{if(t)return T({value:t,field:"iso2",countries:a})},[a,t]),d=y.useRef(null),m=g=>{g.key&&["ArrowUp","ArrowDown"].includes(g.key)&&(g.preventDefault(),i(!0))},D=()=>{var P;let g={title:h==null?void 0:h.name,onClick:()=>i(x=>!x),onMouseDown:x=>x.preventDefault(),onKeyDown:m,disabled:l||r,role:"combobox","aria-label":"Country selector","aria-haspopup":"listbox","aria-expanded":s},v=S.createElement("div",{className:j({addPrefix:["country-selector-button__button-content"],rawClassNames:[o.buttonContentWrapperClassName]}),style:o.buttonContentWrapperStyle},S.createElement(Z,{iso2:t,src:(P=c==null?void 0:c.find(x=>x.iso2===t))==null?void 0:P.src,className:j({addPrefix:["country-selector-button__flag-emoji",r&&"country-selector-button__flag-emoji--disabled"],rawClassNames:[o.flagClassName]}),style:{visibility:t?"visible":"hidden",...o.flagStyle}}),!l&&S.createElement("div",{className:j({addPrefix:["country-selector-button__dropdown-arrow",r&&"country-selector-button__dropdown-arrow--disabled",s&&"country-selector-button__dropdown-arrow--active"],rawClassNames:[o.dropdownArrowClassName]}),style:o.dropdownArrowStyle}));return u?u({children:v,rootProps:g}):S.createElement("button",{...g,type:"button",className:j({addPrefix:["country-selector-button",s&&"country-selector-button--active",r&&"country-selector-button--disabled",l&&"country-selector-button--hide-dropdown"],rawClassNames:[o.buttonClassName]}),"data-country":t,style:o.buttonStyle},v)};return S.createElement("div",{className:j({addPrefix:["country-selector"],rawClassNames:[o.className]}),style:o.style,ref:d},D(),S.createElement(Ee,{show:s,countries:a,preferredCountries:n,flags:c,onSelect:g=>{i(!1),e==null||e(g)},selectedCountry:t,onClose:()=>{i(!1)},...o.dropdownStyleProps}))},je=({dialCode:t,prefix:e,disabled:r,style:l,className:a})=>S.createElement("div",{className:j({addPrefix:["dial-code-preview",r&&"dial-code-preview--disabled"],rawClassNames:[a]}),style:l},`${e}${t}`),$e=y.forwardRef(({value:t,onChange:e,countries:r=O,preferredCountries:l=[],hideDropdown:a,showDisabledDialCodeAndPrefix:n,disableFocusAfterCountrySelect:c,flags:u,style:o,className:s,inputStyle:i,inputClassName:h,countrySelectorStyleProps:d,dialCodePreviewStyleProps:m,inputProps:D,placeholder:g,disabled:v,name:P,onFocus:x,onBlur:$,required:F,autoFocus:I,...f},b)=>{let{phone:C,inputValue:N,inputRef:A,country:L,setCountry:R,handlePhoneValueChange:V}=be({value:t,countries:r,...f,onChange:k=>{e==null||e(k.phone,{country:k.country,inputValue:k.inputValue})}}),w=f.disableDialCodeAndPrefix&&n&&(L==null?void 0:L.dialCode);return y.useImperativeHandle(b,()=>A.current?Object.assign(A.current,{setCountry:R,state:{phone:C,inputValue:N,country:L}}):null,[A,R,C,N,L]),S.createElement("div",{ref:b,className:j({addPrefix:["input-container"],rawClassNames:[s]}),style:o},S.createElement(Ae,{onSelect:k=>R(k.iso2,{focusOnInput:!c}),flags:u,selectedCountry:L.iso2,countries:r,preferredCountries:l,disabled:v,hideDropdown:a,...d}),w&&S.createElement(je,{dialCode:L.dialCode,prefix:f.prefix??"+",disabled:v,...m}),S.createElement("input",{onChange:V,value:N,type:"tel",ref:A,className:j({addPrefix:["input",v&&"input--disabled"],rawClassNames:[h]}),placeholder:g,disabled:v,style:i,name:P,onFocus:x,onBlur:$,autoFocus:I,required:F,...D}))});const Me=()=>{const[t,e]=y.useState(""),[r,l]=y.useState({name:"",email:"",password:"",confirm_password:""}),[a,n]=y.useState(""),c=ee(),u=s=>{const{name:i,value:h}=s.target;l({...r,[i]:h})};y.useEffect(()=>{localStorage.getItem("token")&&c("/")},[c]);const o=async s=>{s.preventDefault();try{if(r.password!==r.confirm_password){n("Passwords do not match.");return}const i=t.replace(/^\D+91/g,""),h={...r,phone:i},d=await re.post("/register",h);d&&d.data&&(d.data.token?(U.success(d.data.message,{position:"top-center"}),localStorage.setItem("token",d.data.token),c("/")):(U.error(d.data.message),n("Oops! Something went wrong while signing up.")))}catch{U.error("Sign Up error:"),n("Oops! Something went wrong while signing up.")}};return p.jsxs(p.Fragment,{children:[p.jsxs("form",{onSubmit:o,children:[p.jsxs("label",{children:["Name:",p.jsx("input",{type:"text",name:"name",placeholder:"Name",value:r.name,onChange:u,required:!0})]}),p.jsx("br",{}),p.jsxs("label",{children:["Phone:",p.jsx($e,{className:"phoneinput",defaultCountry:"in",value:t,forceDialCode:"true",onChange:e,inputProps:{required:!0}})]}),p.jsxs("label",{children:["Email:",p.jsx("input",{type:"email",name:"email",placeholder:"Email",value:r.email,onChange:u,required:!0})]}),p.jsx("br",{}),p.jsxs("label",{children:["Password:",p.jsx("input",{type:"password",name:"password",placeholder:"Password",value:r.password,onChange:u,required:!0})]}),p.jsx("br",{}),p.jsxs("label",{children:["Confirm Password:",p.jsx("input",{type:"password",name:"confirm_password",placeholder:"Confirm Password",value:r.confirm_password,onChange:u,required:!0})]}),p.jsx("br",{}),p.jsx(te,{title:"Sign Up",padding:"15px",borderRadius:"8px",type:"submit"}),a&&p.jsxs("p",{className:"error-message",children:[a," ",p.jsx(J,{to:"/login",children:"Login"})]})]}),p.jsx(ae,{})]})},Re=()=>p.jsxs(p.Fragment,{children:[p.jsx(ie,{}),p.jsxs("div",{className:"authContainer",children:[p.jsx("div",{className:"leftArea",children:p.jsx(ne,{})}),p.jsxs("div",{className:"rightArea",style:{width:"50%",height:"100%",padding:"1.5rem 7rem",display:"flex",flexDirection:"column"},children:[p.jsxs("div",{className:"link",style:{marginBottom:"20px"},children:[p.jsx("h2",{style:{fontSize:"40px"},children:"Registration"}),p.jsxs("p",{style:{fontSize:"12px"},children:["have and Account"," ",p.jsx("span",{children:p.jsx(J,{to:"/login",children:"Log in "})})]})]}),p.jsx("div",{children:p.jsx(Me,{})}),p.jsxs("div",{className:"horizontal-line-container",children:[p.jsx("div",{className:"line"}),p.jsx("div",{className:"text",children:"OR"})]}),p.jsxs("div",{className:"google",children:[p.jsx("div",{className:"logo",children:p.jsx("img",{src:oe,alt:"logo"})}),p.jsx("p",{children:"Continue with Google"})]})]})]})]});export{Re as default};
